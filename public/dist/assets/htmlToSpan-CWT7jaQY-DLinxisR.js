import{z as l}from"./index-p16BOqnp.js";import{j as o}from"./button-BD6I5F21-BCIxP22E.js";import{D as h,p as r}from"./wrapEmojiText-DJXpRYaz-DsSuZO2C.js";class p{constructor(i,t){this.container=i,this.input=t,this.passwordVisible=!1,this.onVisibilityClick=d=>{var a;l(d),this.passwordVisible=!this.passwordVisible,this.toggleVisible.replaceChildren(o(this.passwordVisible?"eye2":"eye1")),this.input.type=this.passwordVisible?"text":"password",(a=this.onVisibilityClickAdditional)==null||a.call(this)},t.type="password",t.setAttribute("required",""),t.name="notsearch_password",t.autocomplete="off";const s=document.createElement("input");s.classList.add("stealthy"),s.tabIndex=-1,s.type="password",t.parentElement.prepend(s),t.parentElement.insertBefore(s.cloneNode(),t.nextSibling);const n=this.toggleVisible=document.createElement("span");n.classList.add("toggle-visible"),n.append(o("eye1")),i.classList.add("input-field-password"),i.append(n),n.addEventListener("click",this.onVisibilityClick),n.addEventListener("touchend",this.onVisibilityClick)}}class w extends h{constructor(i={}){super({plainText:!0,allowStartingSpace:!0,...i}),this.helpers=new p(this.container,this.input)}}class b{constructor(i,t){this.passwordInputField=i,this.size=t,this.needFrame=0,this.container=document.createElement("div"),this.container.classList.add("media-sticker-wrapper")}load(){return this.loadPromise?this.loadPromise:this.loadPromise=r.loadAnimationAsAsset({container:this.container,loop:!1,autoplay:!1,width:this.size,height:this.size,noCache:!0},"TwoFactorSetupMonkeyPeek").then(i=>(this.animation=i,this.animation.addEventListener("enterFrame",t=>{(this.animation.direction===1&&t>=this.needFrame||this.animation.direction===-1&&t<=this.needFrame)&&(this.animation.setSpeed(1),this.animation.pause())}),this.passwordInputField.helpers.onVisibilityClickAdditional=()=>{this.passwordInputField.helpers.passwordVisible?(this.animation.setDirection(1),this.animation.curFrame=0,this.needFrame=16,this.animation.play()):(this.animation.setDirection(-1),this.animation.curFrame=16,this.needFrame=0,this.animation.play())},r.waitForFirstFrame(i)))}remove(){this.animation&&this.animation.remove()}}function y(e){const i=document.createElement("span");return typeof e=="string"?i.innerHTML=e:i.append(e),i}export{y as b,p as h,w as u,b as w};
