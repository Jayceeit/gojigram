import{l as Zt}from"./_commonjsHelpers-Cpj98o6Y-DwXtFsJ3.js";function Xt(It,Qt){for(var qt=0;qt<Qt.length;qt++){const ft=Qt[qt];if(typeof ft!="string"&&!Array.isArray(ft)){for(const it in ft)if(it!=="default"&&!(it in It)){const Z=Object.getOwnPropertyDescriptor(ft,it);Z&&Object.defineProperty(It,it,Z.get?Z:{enumerable:!0,get:()=>ft[it]})}}}return Object.freeze(Object.defineProperty(It,Symbol.toStringTag,{value:"Module"}))}var $t={exports:{}};(function(It,Qt){(function(qt,ft){It.exports=ft()})(self,function(){return(()=>{var qt={192:(Z,J)=>{var lt,Ot,Nt=function(){var st=function(m,y){var v=m,f=Pt[y],l=null,p=0,z=null,P=[],A={},$=function(c,w){l=function(d){for(var _=new Array(d),x=0;x<d;x+=1){_[x]=new Array(d);for(var C=0;C<d;C+=1)_[x][C]=null}return _}(p=4*v+17),X(0,0),X(p-7,0),X(0,p-7),Y(),U(),tt(c,w),v>=7&&rt(c),z==null&&(z=mt(v,f,P)),Mt(z,w)},X=function(c,w){for(var d=-1;d<=7;d+=1)if(!(c+d<=-1||p<=c+d))for(var _=-1;_<=7;_+=1)w+_<=-1||p<=w+_||(l[c+d][w+_]=0<=d&&d<=6&&(_==0||_==6)||0<=_&&_<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=_&&_<=4)},U=function(){for(var c=8;c<p-8;c+=1)l[c][6]==null&&(l[c][6]=c%2==0);for(var w=8;w<p-8;w+=1)l[6][w]==null&&(l[6][w]=w%2==0)},Y=function(){for(var c=pt.getPatternPosition(v),w=0;w<c.length;w+=1)for(var d=0;d<c.length;d+=1){var _=c[w],x=c[d];if(l[_][x]==null)for(var C=-2;C<=2;C+=1)for(var L=-2;L<=2;L+=1)l[_+C][x+L]=C==-2||C==2||L==-2||L==2||C==0&&L==0}},rt=function(c){for(var w=pt.getBCHTypeNumber(v),d=0;d<18;d+=1){var _=!c&&(w>>d&1)==1;l[Math.floor(d/3)][d%3+p-8-3]=_}for(d=0;d<18;d+=1)_=!c&&(w>>d&1)==1,l[d%3+p-8-3][Math.floor(d/3)]=_},tt=function(c,w){for(var d=f<<3|w,_=pt.getBCHTypeInfo(d),x=0;x<15;x+=1){var C=!c&&(_>>x&1)==1;x<6?l[x][8]=C:x<8?l[x+1][8]=C:l[p-15+x][8]=C}for(x=0;x<15;x+=1)C=!c&&(_>>x&1)==1,x<8?l[8][p-x-1]=C:x<9?l[8][15-x-1+1]=C:l[8][15-x-1]=C;l[p-8][8]=!c},Mt=function(c,w){for(var d=-1,_=p-1,x=7,C=0,L=pt.getMaskFunction(w),N=p-1;N>0;N-=2)for(N==6&&(N-=1);;){for(var a=0;a<2;a+=1)if(l[_][N-a]==null){var t=!1;C<c.length&&(t=(c[C]>>>x&1)==1),L(_,N-a)&&(t=!t),l[_][N-a]=t,(x-=1)==-1&&(C+=1,x=7)}if((_+=d)<0||p<=_){_-=d,d=-d;break}}},mt=function(c,w,d){for(var _=Rt.getRSBlocks(c,w),x=G(),C=0;C<d.length;C+=1){var L=d[C];x.put(L.getMode(),4),x.put(L.getLength(),pt.getLengthInBits(L.getMode(),c)),L.write(x)}var N=0;for(C=0;C<_.length;C+=1)N+=_[C].dataCount;if(x.getLengthInBits()>8*N)throw"code length overflow. ("+x.getLengthInBits()+">"+8*N+")";for(x.getLengthInBits()+4<=8*N&&x.put(0,4);x.getLengthInBits()%8!=0;)x.putBit(!1);for(;!(x.getLengthInBits()>=8*N||(x.put(236,8),x.getLengthInBits()>=8*N));)x.put(17,8);return function(a,t){for(var e=0,r=0,n=0,i=new Array(t.length),o=new Array(t.length),s=0;s<t.length;s+=1){var u=t[s].dataCount,g=t[s].totalCount-u;r=Math.max(r,u),n=Math.max(n,g),i[s]=new Array(u);for(var h=0;h<i[s].length;h+=1)i[s][h]=255&a.getBuffer()[h+e];e+=u;var b=pt.getErrorCorrectPolynomial(g),M=zt(i[s],b.getLength()-1).mod(b);for(o[s]=new Array(b.getLength()-1),h=0;h<o[s].length;h+=1){var D=h+M.getLength()-o[s].length;o[s][h]=D>=0?M.getAt(D):0}}var E=0;for(h=0;h<t.length;h+=1)E+=t[h].totalCount;var F=new Array(E),R=0;for(h=0;h<r;h+=1)for(s=0;s<t.length;s+=1)h<i[s].length&&(F[R]=i[s][h],R+=1);for(h=0;h<n;h+=1)for(s=0;s<t.length;s+=1)h<o[s].length&&(F[R]=o[s][h],R+=1);return F}(x,_)};A.addData=function(c,w){var d=null;switch(w=w||"Byte"){case"Numeric":d=Bt(c);break;case"Alphanumeric":d=Lt(c);break;case"Byte":d=Ft(c);break;case"Kanji":d=bt(c);break;default:throw"mode:"+w}P.push(d),z=null},A.isDark=function(c,w){if(c<0||p<=c||w<0||p<=w)throw c+","+w;return l[c][w]},A.getModuleCount=function(){return p},A.make=function(){if(v<1){for(var c=1;c<40;c++){for(var w=Rt.getRSBlocks(c,f),d=G(),_=0;_<P.length;_++){var x=P[_];d.put(x.getMode(),4),d.put(x.getLength(),pt.getLengthInBits(x.getMode(),c)),x.write(d)}var C=0;for(_=0;_<w.length;_++)C+=w[_].dataCount;if(d.getLengthInBits()<=8*C)break}v=c}$(!1,function(){for(var L=0,N=0,a=0;a<8;a+=1){$(!0,a);var t=pt.getLostPoint(A);(a==0||L>t)&&(L=t,N=a)}return N}())},A.createTableTag=function(c,w){c=c||2;var d="";d+='<table style="',d+=" border-width: 0px; border-style: none;",d+=" border-collapse: collapse;",d+=" padding: 0px; margin: "+(w=w===void 0?4*c:w)+"px;",d+='">',d+="<tbody>";for(var _=0;_<A.getModuleCount();_+=1){d+="<tr>";for(var x=0;x<A.getModuleCount();x+=1)d+='<td style="',d+=" border-width: 0px; border-style: none;",d+=" border-collapse: collapse;",d+=" padding: 0px; margin: 0px;",d+=" width: "+c+"px;",d+=" height: "+c+"px;",d+=" background-color: ",d+=A.isDark(_,x)?"#000000":"#ffffff",d+=";",d+='"/>';d+="</tr>"}return(d+="</tbody>")+"</table>"},A.createSvgTag=function(c,w,d,_){var x={};typeof arguments[0]=="object"&&(c=(x=arguments[0]).cellSize,w=x.margin,d=x.alt,_=x.title),c=c||2,w=w===void 0?4*c:w,(d=typeof d=="string"?{text:d}:d||{}).text=d.text||null,d.id=d.text?d.id||"qrcode-description":null,(_=typeof _=="string"?{text:_}:_||{}).text=_.text||null,_.id=_.text?_.id||"qrcode-title":null;var C,L,N,a,t=A.getModuleCount()*c+2*w,e="";for(a="l"+c+",0 0,"+c+" -"+c+",0 0,-"+c+"z ",e+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',e+=x.scalable?"":' width="'+t+'px" height="'+t+'px"',e+=' viewBox="0 0 '+t+" "+t+'" ',e+=' preserveAspectRatio="xMinYMin meet"',e+=_.text||d.text?' role="img" aria-labelledby="'+H([_.id,d.id].join(" ").trim())+'"':"",e+=">",e+=_.text?'<title id="'+H(_.id)+'">'+H(_.text)+"</title>":"",e+=d.text?'<description id="'+H(d.id)+'">'+H(d.text)+"</description>":"",e+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',e+='<path d="',L=0;L<A.getModuleCount();L+=1)for(N=L*c+w,C=0;C<A.getModuleCount();C+=1)A.isDark(L,C)&&(e+="M"+(C*c+w)+","+N+a);return(e+='" stroke="transparent" fill="black"/>')+"</svg>"},A.createDataURL=function(c,w){c=c||2,w=w===void 0?4*c:w;var d=A.getModuleCount()*c+2*w,_=w,x=d-w;return At(d,d,function(C,L){if(_<=C&&C<x&&_<=L&&L<x){var N=Math.floor((C-_)/c),a=Math.floor((L-_)/c);return A.isDark(a,N)?0:1}return 1})},A.createImgTag=function(c,w,d){c=c||2,w=w===void 0?4*c:w;var _=A.getModuleCount()*c+2*w,x="";return x+="<img",x+=' src="',x+=A.createDataURL(c,w),x+='"',x+=' width="',x+=_,x+='"',x+=' height="',x+=_,x+='"',d&&(x+=' alt="',x+=H(d),x+='"'),x+"/>"};var H=function(c){for(var w="",d=0;d<c.length;d+=1){var _=c.charAt(d);switch(_){case"<":w+="&lt;";break;case">":w+="&gt;";break;case"&":w+="&amp;";break;case'"':w+="&quot;";break;default:w+=_}}return w};return A.createASCII=function(c,w){if((c=c||1)<2)return function(i){i=i===void 0?2:i;var o,s,u,g,h,b=1*A.getModuleCount()+2*i,M=i,D=b-i,E={"██":"█","█ ":"▀"," █":"▄","  ":" "},F={"██":"▀","█ ":"▀"," █":" ","  ":" "},R="";for(o=0;o<b;o+=2){for(u=Math.floor((o-M)/1),g=Math.floor((o+1-M)/1),s=0;s<b;s+=1)h="█",M<=s&&s<D&&M<=o&&o<D&&A.isDark(u,Math.floor((s-M)/1))&&(h=" "),M<=s&&s<D&&M<=o+1&&o+1<D&&A.isDark(g,Math.floor((s-M)/1))?h+=" ":h+="█",R+=i<1&&o+1>=D?F[h]:E[h];R+=`
`}return b%2&&i>0?R.substring(0,R.length-b-1)+Array(b+1).join("▀"):R.substring(0,R.length-1)}(w);c-=1,w=w===void 0?2*c:w;var d,_,x,C,L=A.getModuleCount()*c+2*w,N=w,a=L-w,t=Array(c+1).join("██"),e=Array(c+1).join("  "),r="",n="";for(d=0;d<L;d+=1){for(x=Math.floor((d-N)/c),n="",_=0;_<L;_+=1)C=1,N<=_&&_<a&&N<=d&&d<a&&A.isDark(x,Math.floor((_-N)/c))&&(C=0),n+=C?t:e;for(x=0;x<c;x+=1)r+=n+`
`}return r.substring(0,r.length-1)},A.renderTo2dContext=function(c,w){w=w||2;for(var d=A.getModuleCount(),_=0;_<d;_++)for(var x=0;x<d;x++)c.fillStyle=A.isDark(_,x)?"black":"white",c.fillRect(_*w,x*w,w,w)},A};st.stringToBytes=(st.stringToBytesFuncs={default:function(m){for(var y=[],v=0;v<m.length;v+=1){var f=m.charCodeAt(v);y.push(255&f)}return y}}).default,st.createStringToBytes=function(m,y){var v=function(){for(var l=jt(m),p=function(){var U=l.read();if(U==-1)throw"eof";return U},z=0,P={};;){var A=l.read();if(A==-1)break;var $=p(),X=p()<<8|p();P[String.fromCharCode(A<<8|$)]=X,z+=1}if(z!=y)throw z+" != "+y;return P}(),f=63;return function(l){for(var p=[],z=0;z<l.length;z+=1){var P=l.charCodeAt(z);if(P<128)p.push(P);else{var A=v[l.charAt(z)];typeof A=="number"?(255&A)==A?p.push(A):(p.push(A>>>8),p.push(255&A)):p.push(f)}}return p}};var gt,ct,ut,j,dt,Pt={L:1,M:0,Q:3,H:2},pt=(gt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],ct=1335,ut=7973,dt=function(m){for(var y=0;m!=0;)y+=1,m>>>=1;return y},(j={}).getBCHTypeInfo=function(m){for(var y=m<<10;dt(y)-dt(ct)>=0;)y^=ct<<dt(y)-dt(ct);return 21522^(m<<10|y)},j.getBCHTypeNumber=function(m){for(var y=m<<12;dt(y)-dt(ut)>=0;)y^=ut<<dt(y)-dt(ut);return m<<12|y},j.getPatternPosition=function(m){return gt[m-1]},j.getMaskFunction=function(m){switch(m){case 0:return function(y,v){return(y+v)%2==0};case 1:return function(y,v){return y%2==0};case 2:return function(y,v){return v%3==0};case 3:return function(y,v){return(y+v)%3==0};case 4:return function(y,v){return(Math.floor(y/2)+Math.floor(v/3))%2==0};case 5:return function(y,v){return y*v%2+y*v%3==0};case 6:return function(y,v){return(y*v%2+y*v%3)%2==0};case 7:return function(y,v){return(y*v%3+(y+v)%2)%2==0};default:throw"bad maskPattern:"+m}},j.getErrorCorrectPolynomial=function(m){for(var y=zt([1],0),v=0;v<m;v+=1)y=y.multiply(zt([1,vt.gexp(v)],0));return y},j.getLengthInBits=function(m,y){if(1<=y&&y<10)switch(m){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+m}else if(y<27)switch(m){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+m}else{if(!(y<41))throw"type:"+y;switch(m){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+m}}},j.getLostPoint=function(m){for(var y=m.getModuleCount(),v=0,f=0;f<y;f+=1)for(var l=0;l<y;l+=1){for(var p=0,z=m.isDark(f,l),P=-1;P<=1;P+=1)if(!(f+P<0||y<=f+P))for(var A=-1;A<=1;A+=1)l+A<0||y<=l+A||P==0&&A==0||z==m.isDark(f+P,l+A)&&(p+=1);p>5&&(v+=3+p-5)}for(f=0;f<y-1;f+=1)for(l=0;l<y-1;l+=1){var $=0;m.isDark(f,l)&&($+=1),m.isDark(f+1,l)&&($+=1),m.isDark(f,l+1)&&($+=1),m.isDark(f+1,l+1)&&($+=1),$!=0&&$!=4||(v+=3)}for(f=0;f<y;f+=1)for(l=0;l<y-6;l+=1)m.isDark(f,l)&&!m.isDark(f,l+1)&&m.isDark(f,l+2)&&m.isDark(f,l+3)&&m.isDark(f,l+4)&&!m.isDark(f,l+5)&&m.isDark(f,l+6)&&(v+=40);for(l=0;l<y;l+=1)for(f=0;f<y-6;f+=1)m.isDark(f,l)&&!m.isDark(f+1,l)&&m.isDark(f+2,l)&&m.isDark(f+3,l)&&m.isDark(f+4,l)&&!m.isDark(f+5,l)&&m.isDark(f+6,l)&&(v+=40);var X=0;for(l=0;l<y;l+=1)for(f=0;f<y;f+=1)m.isDark(f,l)&&(X+=1);return v+Math.abs(100*X/y/y-50)/5*10},j),vt=function(){for(var m=new Array(256),y=new Array(256),v=0;v<8;v+=1)m[v]=1<<v;for(v=8;v<256;v+=1)m[v]=m[v-4]^m[v-5]^m[v-6]^m[v-8];for(v=0;v<255;v+=1)y[m[v]]=v;return{glog:function(f){if(f<1)throw"glog("+f+")";return y[f]},gexp:function(f){for(;f<0;)f+=255;for(;f>=256;)f-=255;return m[f]}}}();function zt(m,y){if(m.length===void 0)throw m.length+"/"+y;var v=function(){for(var l=0;l<m.length&&m[l]==0;)l+=1;for(var p=new Array(m.length-l+y),z=0;z<m.length-l;z+=1)p[z]=m[z+l];return p}(),f={getAt:function(l){return v[l]},getLength:function(){return v.length},multiply:function(l){for(var p=new Array(f.getLength()+l.getLength()-1),z=0;z<f.getLength();z+=1)for(var P=0;P<l.getLength();P+=1)p[z+P]^=vt.gexp(vt.glog(f.getAt(z))+vt.glog(l.getAt(P)));return zt(p,0)},mod:function(l){if(f.getLength()-l.getLength()<0)return f;for(var p=vt.glog(f.getAt(0))-vt.glog(l.getAt(0)),z=new Array(f.getLength()),P=0;P<f.getLength();P+=1)z[P]=f.getAt(P);for(P=0;P<l.getLength();P+=1)z[P]^=vt.gexp(vt.glog(l.getAt(P))+p);return zt(z,0).mod(l)}};return f}var Rt=function(){var m=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],y=function(f,l){var p={};return p.totalCount=f,p.dataCount=l,p},v={getRSBlocks:function(f,l){var p=function(rt,tt){switch(tt){case Pt.L:return m[4*(rt-1)+0];case Pt.M:return m[4*(rt-1)+1];case Pt.Q:return m[4*(rt-1)+2];case Pt.H:return m[4*(rt-1)+3];default:return}}(f,l);if(p===void 0)throw"bad rs block @ typeNumber:"+f+"/errorCorrectionLevel:"+l;for(var z=p.length/3,P=[],A=0;A<z;A+=1)for(var $=p[3*A+0],X=p[3*A+1],U=p[3*A+2],Y=0;Y<$;Y+=1)P.push(y(X,U));return P}};return v}(),G=function(){var m=[],y=0,v={getBuffer:function(){return m},getAt:function(f){var l=Math.floor(f/8);return(m[l]>>>7-f%8&1)==1},put:function(f,l){for(var p=0;p<l;p+=1)v.putBit((f>>>l-p-1&1)==1)},getLengthInBits:function(){return y},putBit:function(f){var l=Math.floor(y/8);m.length<=l&&m.push(0),f&&(m[l]|=128>>>y%8),y+=1}};return v},Bt=function(m){var y=m,v={getMode:function(){return 1},getLength:function(p){return y.length},write:function(p){for(var z=y,P=0;P+2<z.length;)p.put(f(z.substring(P,P+3)),10),P+=3;P<z.length&&(z.length-P==1?p.put(f(z.substring(P,P+1)),4):z.length-P==2&&p.put(f(z.substring(P,P+2)),7))}},f=function(p){for(var z=0,P=0;P<p.length;P+=1)z=10*z+l(p.charAt(P));return z},l=function(p){if("0"<=p&&p<="9")return p.charCodeAt(0)-48;throw"illegal char :"+p};return v},Lt=function(m){var y=m,v={getMode:function(){return 2},getLength:function(l){return y.length},write:function(l){for(var p=y,z=0;z+1<p.length;)l.put(45*f(p.charAt(z))+f(p.charAt(z+1)),11),z+=2;z<p.length&&l.put(f(p.charAt(z)),6)}},f=function(l){if("0"<=l&&l<="9")return l.charCodeAt(0)-48;if("A"<=l&&l<="Z")return l.charCodeAt(0)-65+10;switch(l){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+l}};return v},Ft=function(m){var y=st.stringToBytes(m);return{getMode:function(){return 4},getLength:function(v){return y.length},write:function(v){for(var f=0;f<y.length;f+=1)v.put(y[f],8)}}},bt=function(m){var y=st.stringToBytesFuncs.SJIS;if(!y)throw"sjis not supported.";(function(f,l){var p=y("友");if(p.length!=2||(p[0]<<8|p[1])!=38726)throw"sjis not supported."})();var v=y(m);return{getMode:function(){return 8},getLength:function(f){return~~(v.length/2)},write:function(f){for(var l=v,p=0;p+1<l.length;){var z=(255&l[p])<<8|255&l[p+1];if(33088<=z&&z<=40956)z-=33088;else{if(!(57408<=z&&z<=60351))throw"illegal char at "+(p+1)+"/"+z;z-=49472}z=192*(z>>>8&255)+(255&z),f.put(z,13),p+=2}if(p<l.length)throw"illegal char at "+(p+1)}}},Tt=function(){var m=[],y={writeByte:function(v){m.push(255&v)},writeShort:function(v){y.writeByte(v),y.writeByte(v>>>8)},writeBytes:function(v,f,l){f=f||0,l=l||v.length;for(var p=0;p<l;p+=1)y.writeByte(v[p+f])},writeString:function(v){for(var f=0;f<v.length;f+=1)y.writeByte(v.charCodeAt(f))},toByteArray:function(){return m},toString:function(){var v="";v+="[";for(var f=0;f<m.length;f+=1)f>0&&(v+=","),v+=m[f];return v+"]"}};return y},jt=function(m){var y=m,v=0,f=0,l=0,p={read:function(){for(;l<8;){if(v>=y.length){if(l==0)return-1;throw"unexpected end of file./"+l}var P=y.charAt(v);if(v+=1,P=="=")return l=0,-1;P.match(/^\s$/)||(f=f<<6|z(P.charCodeAt(0)),l+=6)}var A=f>>>l-8&255;return l-=8,A}},z=function(P){if(65<=P&&P<=90)return P-65;if(97<=P&&P<=122)return P-97+26;if(48<=P&&P<=57)return P-48+52;if(P==43)return 62;if(P==47)return 63;throw"c:"+P};return p},At=function(m,y,v){for(var f=function(X,U){var Y=X,rt=U,tt=new Array(X*U),Mt={setPixel:function(c,w,d){tt[w*Y+c]=d},write:function(c){c.writeString("GIF87a"),c.writeShort(Y),c.writeShort(rt),c.writeByte(128),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(0),c.writeByte(255),c.writeByte(255),c.writeByte(255),c.writeString(","),c.writeShort(0),c.writeShort(0),c.writeShort(Y),c.writeShort(rt),c.writeByte(0);var w=mt(2);c.writeByte(2);for(var d=0;w.length-d>255;)c.writeByte(255),c.writeBytes(w,d,255),d+=255;c.writeByte(w.length-d),c.writeBytes(w,d,w.length-d),c.writeByte(0),c.writeString(";")}},mt=function(c){for(var w=1<<c,d=1+(1<<c),_=c+1,x=H(),C=0;C<w;C+=1)x.add(String.fromCharCode(C));x.add(String.fromCharCode(w)),x.add(String.fromCharCode(d));var L,N,a,t=Tt(),e=(L=t,N=0,a=0,{write:function(o,s){if(o>>>s)throw"length over";for(;N+s>=8;)L.writeByte(255&(o<<N|a)),s-=8-N,o>>>=8-N,a=0,N=0;a|=o<<N,N+=s},flush:function(){N>0&&L.writeByte(a)}});e.write(w,_);var r=0,n=String.fromCharCode(tt[r]);for(r+=1;r<tt.length;){var i=String.fromCharCode(tt[r]);r+=1,x.contains(n+i)?n+=i:(e.write(x.indexOf(n),_),x.size()<4095&&(x.size()==1<<_&&(_+=1),x.add(n+i)),n=i)}return e.write(x.indexOf(n),_),e.write(d,_),e.flush(),t.toByteArray()},H=function(){var c={},w=0,d={add:function(_){if(d.contains(_))throw"dup key:"+_;c[_]=w,w+=1},size:function(){return w},indexOf:function(_){return c[_]},contains:function(_){return c[_]!==void 0}};return d};return Mt}(m,y),l=0;l<y;l+=1)for(var p=0;p<m;p+=1)f.setPixel(p,l,v(p,l));var z=Tt();f.write(z);for(var P=function(){var X=0,U=0,Y=0,rt="",tt={},Mt=function(H){rt+=String.fromCharCode(mt(63&H))},mt=function(H){if(!(H<0)){if(H<26)return 65+H;if(H<52)return H-26+97;if(H<62)return H-52+48;if(H==62)return 43;if(H==63)return 47}throw"n:"+H};return tt.writeByte=function(H){for(X=X<<8|255&H,U+=8,Y+=1;U>=6;)Mt(X>>>U-6),U-=6},tt.flush=function(){if(U>0&&(Mt(X<<6-U),X=0,U=0),Y%3!=0)for(var H=3-Y%3,c=0;c<H;c+=1)rt+="="},tt.toString=function(){return rt},tt}(),A=z.toByteArray(),$=0;$<A.length;$+=1)P.writeByte(A[$]);return P.flush(),"data:image/gif;base64,"+P};return st}();Nt.stringToBytesFuncs["UTF-8"]=function(st){return function(gt){for(var ct=[],ut=0;ut<gt.length;ut++){var j=gt.charCodeAt(ut);j<128?ct.push(j):j<2048?ct.push(192|j>>6,128|63&j):j<55296||j>=57344?ct.push(224|j>>12,128|j>>6&63,128|63&j):(ut++,j=65536+((1023&j)<<10|1023&gt.charCodeAt(ut)),ct.push(240|j>>18,128|j>>12&63,128|j>>6&63,128|63&j))}return ct}(st)},(Ot=typeof(lt=function(){return Nt})=="function"?lt.apply(J,[]):lt)===void 0||(Z.exports=Ot)},796:(Z,J,lt)=>{lt.d(J,{default:()=>N});var Ot=function(){return(Ot=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}).apply(this,arguments)},Nt=function(){for(var a=0,t=0,e=arguments.length;t<e;t++)a+=arguments[t].length;var r=Array(a),n=0;for(t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,n++)r[n]=i[o];return r},st=function(a){return!!a&&typeof a=="object"&&!Array.isArray(a)};function gt(a){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!t.length)return a;var r=t.shift();return r!==void 0&&st(a)&&st(r)?(a=Ot({},a),Object.keys(r).forEach(function(n){var i=a[n],o=r[n];Array.isArray(i)&&Array.isArray(o)?a[n]=o:st(i)&&st(o)?a[n]=gt(Object.assign({},i),o):a[n]=o}),gt.apply(void 0,Nt([a],t))):a}function ct(a,t){var e=document.createElement("a");e.download=t,e.href=a,document.body.appendChild(e),e.click(),document.body.removeChild(e)}function ut(a){var t=a.originalHeight,e=a.originalWidth,r=a.maxHiddenDots,n=a.maxHiddenAxisDots,i=a.dotSize,o={x:0,y:0},s={x:0,y:0};if(t<=0||e<=0||r<=0||i<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var u=t/e;return o.x=Math.floor(Math.sqrt(r/u)),o.x<=0&&(o.x=1),n&&n<o.x&&(o.x=n),o.x%2==0&&o.x--,s.x=o.x*i,o.y=1+2*Math.ceil((o.x*u-1)/2),s.y=Math.round(s.x*u),(o.y*o.x>r||n&&n<o.y)&&(n&&n<o.y?(o.y=n,o.y%2==0&&o.x--):o.y-=2,s.y=o.y*i,o.x=1+2*Math.ceil((o.y/u-1)/2),s.x=Math.round(s.y/u)),{height:s.y,width:s.x,hideYDots:o.y,hideXDots:o.x}}const j={L:.07,M:.15,Q:.25,H:.3},dt="dots",Pt="rounded",pt="classy",vt="classy-rounded",zt="square",Rt="extra-rounded";var G=function(){return(G=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}).apply(this,arguments)};const Bt=function(){function a(t){var e=t.context,r=t.type;this._context=e,this._type=r}return a.prototype.draw=function(t,e,r,n){var i,o=this._context;switch(this._type){case dt:i=this._drawDot;break;case pt:i=this._drawClassy;break;case vt:i=this._drawClassyRounded;break;case Pt:i=this._drawRounded;break;case Rt:i=this._drawExtraRounded;break;case zt:default:i=this._drawSquare}i.call(this,{x:t,y:e,size:r,context:o,getNeighbor:n})},a.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.rotation,s=o===void 0?0:o,u=t.draw,g=e+n/2,h=r+n/2;i.translate(g,h),s&&i.rotate(s),u(),i.closePath(),s&&i.rotate(-s),i.translate(-g,-h)},a.prototype._basicDot=function(t){var e=t.size,r=t.context;this._rotateFigure(G(G({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI)}}))},a.prototype._basicSquare=function(t){var e=t.size,r=t.context;this._rotateFigure(G(G({},t),{draw:function(){r.rect(-e/2,-e/2,e,e)}}))},a.prototype._basicSideRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(G(G({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,Math.PI/2),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},a.prototype._basicCornerRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(G(G({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,0),r.lineTo(e/2,e/2),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},a.prototype._basicCornerExtraRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(G(G({},t),{draw:function(){r.arc(-e/2,e/2,e,-Math.PI/2,0),r.lineTo(-e/2,e/2),r.lineTo(-e/2,-e/2)}}))},a.prototype._basicCornersRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(G(G({},t),{draw:function(){r.arc(0,0,e/2,-Math.PI/2,0),r.lineTo(e/2,e/2),r.lineTo(0,e/2),r.arc(0,0,e/2,Math.PI/2,Math.PI),r.lineTo(-e/2,-e/2),r.lineTo(0,-e/2)}}))},a.prototype._basicCornersExtraRounded=function(t){var e=t.size,r=t.context;this._rotateFigure(G(G({},t),{draw:function(){r.arc(-e/2,e/2,e,-Math.PI/2,0),r.arc(e/2,-e/2,e,Math.PI/2,Math.PI)}}))},a.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,i=t.context;this._basicDot({x:e,y:r,size:n,context:i,rotation:0})},a.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,i=t.context;this._basicSquare({x:e,y:r,size:n,context:i,rotation:0})},a.prototype._drawRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.getNeighbor,s=o?+o(-1,0):0,u=o?+o(1,0):0,g=o?+o(0,-1):0,h=o?+o(0,1):0,b=s+u+g+h;if(b!==0)if(b>2||s&&u||g&&h)this._basicSquare({x:e,y:r,size:n,context:i,rotation:0});else{if(b===2){var M=0;return s&&g?M=Math.PI/2:g&&u?M=Math.PI:u&&h&&(M=-Math.PI/2),void this._basicCornerRounded({x:e,y:r,size:n,context:i,rotation:M})}if(b===1)return M=0,g?M=Math.PI/2:u?M=Math.PI:h&&(M=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,context:i,rotation:M})}else this._basicDot({x:e,y:r,size:n,context:i,rotation:0})},a.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.getNeighbor,s=o?+o(-1,0):0,u=o?+o(1,0):0,g=o?+o(0,-1):0,h=o?+o(0,1):0,b=s+u+g+h;if(b!==0)if(b>2||s&&u||g&&h)this._basicSquare({x:e,y:r,size:n,context:i,rotation:0});else{if(b===2){var M=0;return s&&g?M=Math.PI/2:g&&u?M=Math.PI:u&&h&&(M=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:r,size:n,context:i,rotation:M})}if(b===1)return M=0,g?M=Math.PI/2:u?M=Math.PI:h&&(M=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,context:i,rotation:M})}else this._basicDot({x:e,y:r,size:n,context:i,rotation:0})},a.prototype._drawClassy=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.getNeighbor,s=o?+o(-1,0):0,u=o?+o(1,0):0,g=o?+o(0,-1):0,h=o?+o(0,1):0;s+u+g+h!==0?s||g?u||h?this._basicSquare({x:e,y:r,size:n,context:i,rotation:0}):this._basicCornerRounded({x:e,y:r,size:n,context:i,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:r,size:n,context:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,context:i,rotation:Math.PI/2})},a.prototype._drawClassyRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.getNeighbor,s=o?+o(-1,0):0,u=o?+o(1,0):0,g=o?+o(0,-1):0,h=o?+o(0,1):0;s+u+g+h!==0?s||g?u||h?this._basicSquare({x:e,y:r,size:n,context:i,rotation:0}):this._basicCornerExtraRounded({x:e,y:r,size:n,context:i,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:r,size:n,context:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,context:i,rotation:Math.PI/2})},a}(),Lt="square",Ft="extra-rounded";var bt=function(){return(bt=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}).apply(this,arguments)};const Tt=function(){function a(t){var e=t.context,r=t.type;this._context=e,this._type=r}return a.prototype.draw=function(t,e,r,n){var i,o=this._context;switch(this._type){case Lt:i=this._drawSquare;break;case Ft:i=this._drawExtraRounded;break;case"dot":default:i=this._drawDot}i.call(this,{x:t,y:e,size:r,context:o,rotation:n})},a.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.rotation,s=o===void 0?0:o,u=t.draw,g=e+n/2,h=r+n/2;i.translate(g,h),s&&i.rotate(s),u(),i.closePath(),s&&i.rotate(-s),i.translate(-g,-h)},a.prototype._basicDot=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(bt(bt({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI),r.arc(0,0,e/2-n,0,2*Math.PI)}}))},a.prototype._basicSquare=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(bt(bt({},t),{draw:function(){r.rect(-e/2,-e/2,e,e),r.rect(-e/2+n,-e/2+n,e-2*n,e-2*n)}}))},a.prototype._basicExtraRounded=function(t){var e=t.size,r=t.context,n=e/7;this._rotateFigure(bt(bt({},t),{draw:function(){r.arc(-n,-n,2.5*n,Math.PI,-Math.PI/2),r.lineTo(n,-3.5*n),r.arc(n,-n,2.5*n,-Math.PI/2,0),r.lineTo(3.5*n,-n),r.arc(n,n,2.5*n,0,Math.PI/2),r.lineTo(-n,3.5*n),r.arc(-n,n,2.5*n,Math.PI/2,Math.PI),r.lineTo(-3.5*n,-n),r.arc(-n,-n,1.5*n,Math.PI,-Math.PI/2),r.lineTo(n,-2.5*n),r.arc(n,-n,1.5*n,-Math.PI/2,0),r.lineTo(2.5*n,-n),r.arc(n,n,1.5*n,0,Math.PI/2),r.lineTo(-n,2.5*n),r.arc(-n,n,1.5*n,Math.PI/2,Math.PI),r.lineTo(-2.5*n,-n)}}))},a.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.rotation;this._basicDot({x:e,y:r,size:n,context:i,rotation:o})},a.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.rotation;this._basicSquare({x:e,y:r,size:n,context:i,rotation:o})},a.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.rotation;this._basicExtraRounded({x:e,y:r,size:n,context:i,rotation:o})},a}(),jt="square";var At=function(){return(At=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}).apply(this,arguments)};const m=function(){function a(t){var e=t.context,r=t.type;this._context=e,this._type=r}return a.prototype.draw=function(t,e,r,n){var i,o=this._context;switch(this._type){case jt:i=this._drawSquare;break;case"dot":default:i=this._drawDot}i.call(this,{x:t,y:e,size:r,context:o,rotation:n})},a.prototype._rotateFigure=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.rotation,s=o===void 0?0:o,u=t.draw,g=e+n/2,h=r+n/2;i.translate(g,h),s&&i.rotate(s),u(),i.closePath(),s&&i.rotate(-s),i.translate(-g,-h)},a.prototype._basicDot=function(t){var e=t.size,r=t.context;this._rotateFigure(At(At({},t),{draw:function(){r.arc(0,0,e/2,0,2*Math.PI)}}))},a.prototype._basicSquare=function(t){var e=t.size,r=t.context;this._rotateFigure(At(At({},t),{draw:function(){r.rect(-e/2,-e/2,e,e)}}))},a.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.rotation;this._basicDot({x:e,y:r,size:n,context:i,rotation:o})},a.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,i=t.context,o=t.rotation;this._basicSquare({x:e,y:r,size:n,context:i,rotation:o})},a}(),y="radial";var v=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],f=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const l=function(){function a(t){this._canvas=document.createElement("canvas"),this._canvas.width=t.width,this._canvas.height=t.height,this._options=t}return Object.defineProperty(a.prototype,"context",{get:function(){return this._canvas.getContext("2d")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this._canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this._canvas.height},enumerable:!1,configurable:!0}),a.prototype.getCanvas=function(){return this._canvas},a.prototype.clear=function(){var t=this.context;t&&t.clearRect(0,0,this._canvas.width,this._canvas.height)},a.prototype.drawQR=function(t){return e=this,r=void 0,i=function(){var o,s,u,g,h,b,M,D,E,F=this;return function(R,B){var q,I,S,T,O={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return T={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function W(K){return function(at){return function(k){if(q)throw new TypeError("Generator is already executing.");for(;O;)try{if(q=1,I&&(S=2&k[0]?I.return:k[0]?I.throw||((S=I.return)&&S.call(I),0):I.next)&&!(S=S.call(I,k[1])).done)return S;switch(I=0,S&&(k=[2&k[0],S.value]),k[0]){case 0:case 1:S=k;break;case 4:return O.label++,{value:k[1],done:!1};case 5:O.label++,I=k[1],k=[0];continue;case 7:k=O.ops.pop(),O.trys.pop();continue;default:if(!((S=(S=O.trys).length>0&&S[S.length-1])||k[0]!==6&&k[0]!==2)){O=0;continue}if(k[0]===3&&(!S||k[1]>S[0]&&k[1]<S[3])){O.label=k[1];break}if(k[0]===6&&O.label<S[1]){O.label=S[1],S=k;break}if(S&&O.label<S[2]){O.label=S[2],O.ops.push(k);break}S[2]&&O.ops.pop(),O.trys.pop();continue}k=B.call(R,O)}catch(et){k=[6,et],I=0}finally{q=S=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([K,at])}}}(this,function(R){switch(R.label){case 0:return o=t.getModuleCount(),s=Math.min(this._options.width,this._options.height)-2*this._options.margin,u=Math.floor(s/o),g={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(R.sent(),!this._image)return[2];h=this._options,b=h.imageOptions,M=h.qrOptions,D=b.imageSize*j[M.errorCorrectionLevel],E=Math.floor(D*o*o),g=ut({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:E,maxHiddenAxisDots:o-14,dotSize:u}),R.label=2;case 2:return this.clear(),this.drawBackground(),this.drawDots(function(B,q){var I,S,T,O,W,K;return!(F._options.imageOptions.hideBackgroundDots&&B>=(o-g.hideXDots)/2&&B<(o+g.hideXDots)/2&&q>=(o-g.hideYDots)/2&&q<(o+g.hideYDots)/2||!((I=v[B])===null||I===void 0)&&I[q]||!((S=v[B-o+7])===null||S===void 0)&&S[q]||!((T=v[B])===null||T===void 0)&&T[q-o+7]||!((O=f[B])===null||O===void 0)&&O[q]||!((W=f[B-o+7])===null||W===void 0)&&W[q]||!((K=f[B])===null||K===void 0)&&K[q-o+7])}),this.drawCorners(),this._options.image&&this.drawImage({width:g.width,height:g.height,count:o,dotSize:u}),[2]}})},new((n=void 0)||(n=Promise))(function(o,s){function u(b){try{h(i.next(b))}catch(M){s(M)}}function g(b){try{h(i.throw(b))}catch(M){s(M)}}function h(b){var M;b.done?o(b.value):(M=b.value,M instanceof n?M:new n(function(D){D(M)})).then(u,g)}h((i=i.apply(e,r||[])).next())});var e,r,n,i},a.prototype.drawBackground=function(){var t=this.context,e=this._options;if(t){if(e.backgroundOptions.gradient){var r=e.backgroundOptions.gradient,n=this._createGradient({context:t,options:r,additionalRotation:0,x:0,y:0,size:this._canvas.width>this._canvas.height?this._canvas.width:this._canvas.height});r.colorStops.forEach(function(i){var o=i.offset,s=i.color;n.addColorStop(o,s)}),t.fillStyle=n}else e.backgroundOptions.color&&(t.fillStyle=e.backgroundOptions.color);t.fillRect(0,0,this._canvas.width,this._canvas.height)}},a.prototype.drawDots=function(t){var e=this;if(!this._qr)throw"QR code is not defined";var r=this.context;if(!r)throw"QR code is not defined";var n=this._options,i=this._qr.getModuleCount();if(i>n.width||i>n.height)throw"The canvas is too small.";var o=Math.min(n.width,n.height)-2*n.margin,s=Math.floor(o/i),u=Math.floor((n.width-i*s)/2),g=Math.floor((n.height-i*s)/2),h=new Bt({context:r,type:n.dotsOptions.type});r.beginPath();for(var b=function(R){for(var B=function(I){return t&&!t(R,I)?"continue":M._qr.isDark(R,I)?void h.draw(u+R*s,g+I*s,s,function(S,T){return!(R+S<0||I+T<0||R+S>=i||I+T>=i)&&!(t&&!t(R+S,I+T))&&!!e._qr&&e._qr.isDark(R+S,I+T)}):"continue"},q=0;q<i;q++)B(q)},M=this,D=0;D<i;D++)b(D);if(n.dotsOptions.gradient){var E=n.dotsOptions.gradient,F=this._createGradient({context:r,options:E,additionalRotation:0,x:u,y:g,size:i*s});E.colorStops.forEach(function(R){var B=R.offset,q=R.color;F.addColorStop(B,q)}),r.fillStyle=r.strokeStyle=F}else n.dotsOptions.color&&(r.fillStyle=r.strokeStyle=n.dotsOptions.color);r.fill("evenodd")},a.prototype.drawCorners=function(t){var e=this;if(!this._qr)throw"QR code is not defined";var r=this.context;if(!r)throw"QR code is not defined";var n=this._options,i=this._qr.getModuleCount(),o=Math.min(n.width,n.height)-2*n.margin,s=Math.floor(o/i),u=7*s,g=3*s,h=Math.floor((n.width-i*s)/2),b=Math.floor((n.height-i*s)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(M){var D,E,F,R,B,q,I,S,T,O,W=M[0],K=M[1],at=M[2];if(!t||t(W,K)){var k=h+W*s*(i-7),et=b+K*s*(i-7);if(!((D=n.cornersSquareOptions)===null||D===void 0)&&D.type){var kt=new Tt({context:r,type:(E=n.cornersSquareOptions)===null||E===void 0?void 0:E.type});r.beginPath(),kt.draw(k,et,u,at)}else{var yt=new Bt({context:r,type:n.dotsOptions.type});r.beginPath();for(var xt=function(Q){for(var _t=function(nt){if(!(!((F=v[Q])===null||F===void 0)&&F[nt]))return"continue";yt.draw(k+Q*s,et+nt*s,s,function(Dt,Ct){var ot;return!!(!((ot=v[Q+Dt])===null||ot===void 0)&&ot[nt+Ct])})},V=0;V<v[Q].length;V++)_t(V)},wt=0;wt<v.length;wt++)xt(wt)}if(!((R=n.cornersSquareOptions)===null||R===void 0)&&R.gradient){var ht=n.cornersSquareOptions.gradient,Ht=e._createGradient({context:r,options:ht,additionalRotation:at,x:k,y:et,size:u});ht.colorStops.forEach(function(Q){var _t=Q.offset,V=Q.color;Ht.addColorStop(_t,V)}),r.fillStyle=r.strokeStyle=Ht}else!((B=n.cornersSquareOptions)===null||B===void 0)&&B.color&&(r.fillStyle=r.strokeStyle=n.cornersSquareOptions.color);if(r.fill("evenodd"),(q=n.cornersDotOptions)===null||q===void 0?void 0:q.type){var St=new m({context:r,type:(I=n.cornersDotOptions)===null||I===void 0?void 0:I.type});r.beginPath(),St.draw(k+2*s,et+2*s,g,at)}else{yt=new Bt({context:r,type:n.dotsOptions.type}),r.beginPath();var Et=function(Q){for(var _t=function(nt){if(!(!((S=f[Q])===null||S===void 0)&&S[nt]))return"continue";yt.draw(k+Q*s,et+nt*s,s,function(Dt,Ct){var ot;return!!(!((ot=f[Q+Dt])===null||ot===void 0)&&ot[nt+Ct])})},V=0;V<f[Q].length;V++)_t(V)};for(wt=0;wt<f.length;wt++)Et(wt)}if(!((T=n.cornersDotOptions)===null||T===void 0)&&T.gradient){ht=n.cornersDotOptions.gradient;var Ut=e._createGradient({context:r,options:ht,additionalRotation:at,x:k+2*s,y:et+2*s,size:g});ht.colorStops.forEach(function(Q){var _t=Q.offset,V=Q.color;Ut.addColorStop(_t,V)}),r.fillStyle=r.strokeStyle=Ut}else!((O=n.cornersDotOptions)===null||O===void 0)&&O.color&&(r.fillStyle=r.strokeStyle=n.cornersDotOptions.color);r.fill("evenodd")}})},a.prototype.loadImage=function(){var t=this;return new Promise(function(e,r){var n=t._options,i=new Image;if(!n.image)return r("Image is not defined");typeof n.imageOptions.crossOrigin=="string"&&(i.crossOrigin=n.imageOptions.crossOrigin),t._image=i,i.onload=function(){e()},i.src=n.image})},a.prototype.drawImage=function(t){var e=t.width,r=t.height,n=t.count,i=t.dotSize,o=this.context;if(!o)throw"canvasContext is not defined";if(!this._image)throw"image is not defined";var s=this._options,u=Math.floor((s.width-n*i)/2),g=Math.floor((s.height-n*i)/2),h=u+s.imageOptions.margin+(n*i-e)/2,b=g+s.imageOptions.margin+(n*i-r)/2,M=e-2*s.imageOptions.margin,D=r-2*s.imageOptions.margin;o.drawImage(this._image,h,b,M<0?0:M,D<0?0:D)},a.prototype._createGradient=function(t){var e,r=t.context,n=t.options,i=t.additionalRotation,o=t.x,s=t.y,u=t.size;if(n.type===y)e=r.createRadialGradient(o+u/2,s+u/2,0,o+u/2,s+u/2,u/2);else{var g=((n.rotation||0)+i)%(2*Math.PI),h=(g+2*Math.PI)%(2*Math.PI),b=o+u/2,M=s+u/2,D=o+u/2,E=s+u/2;h>=0&&h<=.25*Math.PI||h>1.75*Math.PI&&h<=2*Math.PI?(b-=u/2,M-=u/2*Math.tan(g),D+=u/2,E+=u/2*Math.tan(g)):h>.25*Math.PI&&h<=.75*Math.PI?(M-=u/2,b-=u/2/Math.tan(g),E+=u/2,D+=u/2/Math.tan(g)):h>.75*Math.PI&&h<=1.25*Math.PI?(b+=u/2,M+=u/2*Math.tan(g),D-=u/2,E-=u/2*Math.tan(g)):h>1.25*Math.PI&&h<=1.75*Math.PI&&(M+=u/2,b+=u/2/Math.tan(g),E-=u/2,D-=u/2/Math.tan(g)),e=r.createLinearGradient(Math.round(b),Math.round(M),Math.round(D),Math.round(E))}return e},a}();var p=function(){return(p=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}).apply(this,arguments)};const z=function(){function a(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}return a.prototype.draw=function(t,e,r,n){var i;switch(this._type){case dt:i=this._drawDot;break;case pt:i=this._drawClassy;break;case vt:i=this._drawClassyRounded;break;case Pt:i=this._drawRounded;break;case Rt:i=this._drawExtraRounded;break;case zt:default:i=this._drawSquare}i.call(this,{x:t,y:e,size:r,getNeighbor:n})},a.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,i=t.size,o=t.rotation,s=o===void 0?0:o,u=r+i/2,g=n+i/2;(0,t.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*s/Math.PI+","+u+","+g+")")},a.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(n+r/2)),e._element.setAttribute("cy",String(i+r/2)),e._element.setAttribute("r",String(r/2))}}))},a.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(n)),e._element.setAttribute("y",String(i)),e._element.setAttribute("width",String(r)),e._element.setAttribute("height",String(r))}}))},a.prototype._basicSideRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+i+"v "+r+"h "+r/2+"a "+r/2+" "+r/2+", 0, 0, 0, 0 "+-r)}}))},a.prototype._basicCornerRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+i+"v "+r+"h "+r+"v "+-r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+-r/2+" "+-r/2)}}))},a.prototype._basicCornerExtraRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+i+"v "+r+"h "+r+"a "+r+" "+r+", 0, 0, 0, "+-r+" "+-r)}}))},a.prototype._basicCornersRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure(p(p({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+n+" "+i+"v "+r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+r/2+" "+r/2+"h "+r/2+"v "+-r/2+"a "+r/2+" "+r/2+", 0, 0, 0, "+-r/2+" "+-r/2)}}))},a.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size;this._basicDot({x:e,y:r,size:n,rotation:0})},a.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size;this._basicSquare({x:e,y:r,size:n,rotation:0})},a.prototype._drawRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.getNeighbor,o=i?+i(-1,0):0,s=i?+i(1,0):0,u=i?+i(0,-1):0,g=i?+i(0,1):0,h=o+s+u+g;if(h!==0)if(h>2||o&&s||u&&g)this._basicSquare({x:e,y:r,size:n,rotation:0});else{if(h===2){var b=0;return o&&u?b=Math.PI/2:u&&s?b=Math.PI:s&&g&&(b=-Math.PI/2),void this._basicCornerRounded({x:e,y:r,size:n,rotation:b})}if(h===1)return b=0,u?b=Math.PI/2:s?b=Math.PI:g&&(b=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,rotation:b})}else this._basicDot({x:e,y:r,size:n,rotation:0})},a.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.getNeighbor,o=i?+i(-1,0):0,s=i?+i(1,0):0,u=i?+i(0,-1):0,g=i?+i(0,1):0,h=o+s+u+g;if(h!==0)if(h>2||o&&s||u&&g)this._basicSquare({x:e,y:r,size:n,rotation:0});else{if(h===2){var b=0;return o&&u?b=Math.PI/2:u&&s?b=Math.PI:s&&g&&(b=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:b})}if(h===1)return b=0,u?b=Math.PI/2:s?b=Math.PI:g&&(b=-Math.PI/2),void this._basicSideRounded({x:e,y:r,size:n,rotation:b})}else this._basicDot({x:e,y:r,size:n,rotation:0})},a.prototype._drawClassy=function(t){var e=t.x,r=t.y,n=t.size,i=t.getNeighbor,o=i?+i(-1,0):0,s=i?+i(1,0):0,u=i?+i(0,-1):0,g=i?+i(0,1):0;o+s+u+g!==0?o||u?s||g?this._basicSquare({x:e,y:r,size:n,rotation:0}):this._basicCornerRounded({x:e,y:r,size:n,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:r,size:n,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,rotation:Math.PI/2})},a.prototype._drawClassyRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.getNeighbor,o=i?+i(-1,0):0,s=i?+i(1,0):0,u=i?+i(0,-1):0,g=i?+i(0,1):0;o+s+u+g!==0?o||u?s||g?this._basicSquare({x:e,y:r,size:n,rotation:0}):this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:r,size:n,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:r,size:n,rotation:Math.PI/2})},a}();var P=function(){return(P=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}).apply(this,arguments)};const A=function(){function a(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}return a.prototype.draw=function(t,e,r,n){var i;switch(this._type){case Lt:i=this._drawSquare;break;case Ft:i=this._drawExtraRounded;break;case"dot":default:i=this._drawDot}i.call(this,{x:t,y:e,size:r,rotation:n})},a.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,i=t.size,o=t.rotation,s=o===void 0?0:o,u=r+i/2,g=n+i/2;(0,t.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*s/Math.PI+","+u+","+g+")")},a.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,i=t.y,o=r/7;this._rotateFigure(P(P({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+(n+r/2)+" "+i+"a "+r/2+" "+r/2+" 0 1 0 0.1 0zm 0 "+o+"a "+(r/2-o)+" "+(r/2-o)+" 0 1 1 -0.1 0Z")}}))},a.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,i=t.y,o=r/7;this._rotateFigure(P(P({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+n+" "+i+"v "+r+"h "+r+"v "+-r+"zM "+(n+o)+" "+(i+o)+"h "+(r-2*o)+"v "+(r-2*o)+"h "+(2*o-r)+"z")}}))},a.prototype._basicExtraRounded=function(t){var e=this,r=t.size,n=t.x,i=t.y,o=r/7;this._rotateFigure(P(P({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+n+" "+(i+2.5*o)+"v "+2*o+"a "+2.5*o+" "+2.5*o+", 0, 0, 0, "+2.5*o+" "+2.5*o+"h "+2*o+"a "+2.5*o+" "+2.5*o+", 0, 0, 0, "+2.5*o+" "+2.5*-o+"v "+-2*o+"a "+2.5*o+" "+2.5*o+", 0, 0, 0, "+2.5*-o+" "+2.5*-o+"h "+-2*o+"a "+2.5*o+" "+2.5*o+", 0, 0, 0, "+2.5*-o+" "+2.5*o+"M "+(n+2.5*o)+" "+(i+o)+"h "+2*o+"a "+1.5*o+" "+1.5*o+", 0, 0, 1, "+1.5*o+" "+1.5*o+"v "+2*o+"a "+1.5*o+" "+1.5*o+", 0, 0, 1, "+1.5*-o+" "+1.5*o+"h "+-2*o+"a "+1.5*o+" "+1.5*o+", 0, 0, 1, "+1.5*-o+" "+1.5*-o+"v "+-2*o+"a "+1.5*o+" "+1.5*o+", 0, 0, 1, "+1.5*o+" "+1.5*-o)}}))},a.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicDot({x:e,y:r,size:n,rotation:i})},a.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicSquare({x:e,y:r,size:n,rotation:i})},a.prototype._drawExtraRounded=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicExtraRounded({x:e,y:r,size:n,rotation:i})},a}();var $=function(){return($=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}).apply(this,arguments)};const X=function(){function a(t){var e=t.svg,r=t.type;this._svg=e,this._type=r}return a.prototype.draw=function(t,e,r,n){var i;switch(this._type){case jt:i=this._drawSquare;break;case"dot":default:i=this._drawDot}i.call(this,{x:t,y:e,size:r,rotation:n})},a.prototype._rotateFigure=function(t){var e,r=t.x,n=t.y,i=t.size,o=t.rotation,s=o===void 0?0:o,u=r+i/2,g=n+i/2;(0,t.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*s/Math.PI+","+u+","+g+")")},a.prototype._basicDot=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure($($({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(n+r/2)),e._element.setAttribute("cy",String(i+r/2)),e._element.setAttribute("r",String(r/2))}}))},a.prototype._basicSquare=function(t){var e=this,r=t.size,n=t.x,i=t.y;this._rotateFigure($($({},t),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(n)),e._element.setAttribute("y",String(i)),e._element.setAttribute("width",String(r)),e._element.setAttribute("height",String(r))}}))},a.prototype._drawDot=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicDot({x:e,y:r,size:n,rotation:i})},a.prototype._drawSquare=function(t){var e=t.x,r=t.y,n=t.size,i=t.rotation;this._basicSquare({x:e,y:r,size:n,rotation:i})},a}();var U=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Y=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const rt=function(){function a(t){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=t}return Object.defineProperty(a.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),a.prototype.getElement=function(){return this._element},a.prototype.clear=function(){var t,e=this._element;this._element=e.cloneNode(!1),(t=e==null?void 0:e.parentNode)===null||t===void 0||t.replaceChild(this._element,e),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs)},a.prototype.drawQR=function(t){return e=this,r=void 0,i=function(){var o,s,u,g,h,b,M,D,E,F=this;return function(R,B){var q,I,S,T,O={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return T={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function W(K){return function(at){return function(k){if(q)throw new TypeError("Generator is already executing.");for(;O;)try{if(q=1,I&&(S=2&k[0]?I.return:k[0]?I.throw||((S=I.return)&&S.call(I),0):I.next)&&!(S=S.call(I,k[1])).done)return S;switch(I=0,S&&(k=[2&k[0],S.value]),k[0]){case 0:case 1:S=k;break;case 4:return O.label++,{value:k[1],done:!1};case 5:O.label++,I=k[1],k=[0];continue;case 7:k=O.ops.pop(),O.trys.pop();continue;default:if(!((S=(S=O.trys).length>0&&S[S.length-1])||k[0]!==6&&k[0]!==2)){O=0;continue}if(k[0]===3&&(!S||k[1]>S[0]&&k[1]<S[3])){O.label=k[1];break}if(k[0]===6&&O.label<S[1]){O.label=S[1],S=k;break}if(S&&O.label<S[2]){O.label=S[2],O.ops.push(k);break}S[2]&&O.ops.pop(),O.trys.pop();continue}k=B.call(R,O)}catch(et){k=[6,et],I=0}finally{q=S=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([K,at])}}}(this,function(R){switch(R.label){case 0:return o=t.getModuleCount(),s=Math.min(this._options.width,this._options.height)-2*this._options.margin,u=Math.floor(s/o),g={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(R.sent(),!this._image)return[2];h=this._options,b=h.imageOptions,M=h.qrOptions,D=b.imageSize*j[M.errorCorrectionLevel],E=Math.floor(D*o*o),g=ut({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:E,maxHiddenAxisDots:o-14,dotSize:u}),R.label=2;case 2:return this.clear(),this.drawBackground(),this.drawDots(function(B,q){var I,S,T,O,W,K;return!(F._options.imageOptions.hideBackgroundDots&&B>=(o-g.hideXDots)/2&&B<(o+g.hideXDots)/2&&q>=(o-g.hideYDots)/2&&q<(o+g.hideYDots)/2||!((I=U[B])===null||I===void 0)&&I[q]||!((S=U[B-o+7])===null||S===void 0)&&S[q]||!((T=U[B])===null||T===void 0)&&T[q-o+7]||!((O=Y[B])===null||O===void 0)&&O[q]||!((W=Y[B-o+7])===null||W===void 0)&&W[q]||!((K=Y[B])===null||K===void 0)&&K[q-o+7])}),this.drawCorners(),this._options.image&&this.drawImage({width:g.width,height:g.height,count:o,dotSize:u}),[2]}})},new((n=void 0)||(n=Promise))(function(o,s){function u(b){try{h(i.next(b))}catch(M){s(M)}}function g(b){try{h(i.throw(b))}catch(M){s(M)}}function h(b){var M;b.done?o(b.value):(M=b.value,M instanceof n?M:new n(function(D){D(M)})).then(u,g)}h((i=i.apply(e,r||[])).next())});var e,r,n,i},a.prototype.drawBackground=function(){var t,e,r=this._element,n=this._options;if(r){var i=(t=n.backgroundOptions)===null||t===void 0?void 0:t.gradient,o=(e=n.backgroundOptions)===null||e===void 0?void 0:e.color;(i||o)&&this._createColor({options:i,color:o,additionalRotation:0,x:0,y:0,height:n.height,width:n.width,name:"background-color"})}},a.prototype.drawDots=function(t){var e,r,n=this;if(!this._qr)throw"QR code is not defined";var i=this._options,o=this._qr.getModuleCount();if(o>i.width||o>i.height)throw"The canvas is too small.";var s=Math.min(i.width,i.height)-2*i.margin,u=Math.floor(s/o),g=Math.floor((i.width-o*u)/2),h=Math.floor((i.height-o*u)/2),b=new z({svg:this._element,type:i.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(e=i.dotsOptions)===null||e===void 0?void 0:e.gradient,color:i.dotsOptions.color,additionalRotation:0,x:g,y:h,height:o*u,width:o*u,name:"dot-color"});for(var M=function(F){for(var R=function(q){return t&&!t(F,q)?"continue":!((r=D._qr)===null||r===void 0)&&r.isDark(F,q)?(b.draw(g+F*u,h+q*u,u,function(I,S){return!(F+I<0||q+S<0||F+I>=o||q+S>=o)&&!(t&&!t(F+I,q+S))&&!!n._qr&&n._qr.isDark(F+I,q+S)}),void(b._element&&D._dotsClipPath&&D._dotsClipPath.appendChild(b._element))):"continue"},B=0;B<o;B++)R(B)},D=this,E=0;E<o;E++)M(E)},a.prototype.drawCorners=function(){var t=this;if(!this._qr)throw"QR code is not defined";var e=this._element,r=this._options;if(!e)throw"Element code is not defined";var n=this._qr.getModuleCount(),i=Math.min(r.width,r.height)-2*r.margin,o=Math.floor(i/n),s=7*o,u=3*o,g=Math.floor((r.width-n*o)/2),h=Math.floor((r.height-n*o)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(b){var M,D,E,F,R,B,q,I,S,T,O,W,K=b[0],at=b[1],k=b[2],et=g+K*o*(n-7),kt=h+at*o*(n-7),yt=t._dotsClipPath,xt=t._dotsClipPath;if((!((M=r.cornersSquareOptions)===null||M===void 0)&&M.gradient||!((D=r.cornersSquareOptions)===null||D===void 0)&&D.color)&&((yt=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+K+"-"+at),t._defs.appendChild(yt),t._cornersSquareClipPath=t._cornersDotClipPath=xt=yt,t._createColor({options:(E=r.cornersSquareOptions)===null||E===void 0?void 0:E.gradient,color:(F=r.cornersSquareOptions)===null||F===void 0?void 0:F.color,additionalRotation:k,x:et,y:kt,height:s,width:s,name:"corners-square-color-"+K+"-"+at})),(R=r.cornersSquareOptions)===null||R===void 0?void 0:R.type){var wt=new A({svg:t._element,type:r.cornersSquareOptions.type});wt.draw(et,kt,s,k),wt._element&&yt&&yt.appendChild(wt._element)}else for(var ht=new z({svg:t._element,type:r.dotsOptions.type}),Ht=function(Q){for(var _t=function(nt){if(!(!((B=U[Q])===null||B===void 0)&&B[nt]))return"continue";ht.draw(et+Q*o,kt+nt*o,o,function(Dt,Ct){var ot;return!!(!((ot=U[Q+Dt])===null||ot===void 0)&&ot[nt+Ct])}),ht._element&&yt&&yt.appendChild(ht._element)},V=0;V<U[Q].length;V++)_t(V)},St=0;St<U.length;St++)Ht(St);if((!((q=r.cornersDotOptions)===null||q===void 0)&&q.gradient||!((I=r.cornersDotOptions)===null||I===void 0)&&I.color)&&((xt=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+K+"-"+at),t._defs.appendChild(xt),t._cornersDotClipPath=xt,t._createColor({options:(S=r.cornersDotOptions)===null||S===void 0?void 0:S.gradient,color:(T=r.cornersDotOptions)===null||T===void 0?void 0:T.color,additionalRotation:k,x:et+2*o,y:kt+2*o,height:u,width:u,name:"corners-dot-color-"+K+"-"+at})),(O=r.cornersDotOptions)===null||O===void 0?void 0:O.type){var Et=new X({svg:t._element,type:r.cornersDotOptions.type});Et.draw(et+2*o,kt+2*o,u,k),Et._element&&xt&&xt.appendChild(Et._element)}else{ht=new z({svg:t._element,type:r.dotsOptions.type});var Ut=function(Q){for(var _t=function(nt){if(!(!((W=Y[Q])===null||W===void 0)&&W[nt]))return"continue";ht.draw(et+Q*o,kt+nt*o,o,function(Dt,Ct){var ot;return!!(!((ot=Y[Q+Dt])===null||ot===void 0)&&ot[nt+Ct])}),ht._element&&xt&&xt.appendChild(ht._element)},V=0;V<Y[Q].length;V++)_t(V)};for(St=0;St<Y.length;St++)Ut(St)}})},a.prototype.loadImage=function(){var t=this;return new Promise(function(e,r){var n=t._options,i=new Image;if(!n.image)return r("Image is not defined");typeof n.imageOptions.crossOrigin=="string"&&(i.crossOrigin=n.imageOptions.crossOrigin),t._image=i,i.onload=function(){e()},i.src=n.image})},a.prototype.drawImage=function(t){var e=t.width,r=t.height,n=t.count,i=t.dotSize,o=this._options,s=Math.floor((o.width-n*i)/2),u=Math.floor((o.height-n*i)/2),g=s+o.imageOptions.margin+(n*i-e)/2,h=u+o.imageOptions.margin+(n*i-r)/2,b=e-2*o.imageOptions.margin,M=r-2*o.imageOptions.margin,D=document.createElementNS("http://www.w3.org/2000/svg","image");D.setAttribute("href",o.image||""),D.setAttribute("x",String(g)),D.setAttribute("y",String(h)),D.setAttribute("width",b+"px"),D.setAttribute("height",M+"px"),this._element.appendChild(D)},a.prototype._createColor=function(t){var e=t.options,r=t.color,n=t.additionalRotation,i=t.x,o=t.y,s=t.height,u=t.width,g=t.name,h=u>s?u:s,b=document.createElementNS("http://www.w3.org/2000/svg","rect");if(b.setAttribute("x",String(i)),b.setAttribute("y",String(o)),b.setAttribute("height",String(s)),b.setAttribute("width",String(u)),b.setAttribute("clip-path","url('#clip-path-"+g+"')"),e){var M;if(e.type===y)(M=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",g),M.setAttribute("gradientUnits","userSpaceOnUse"),M.setAttribute("fx",String(i+u/2)),M.setAttribute("fy",String(o+s/2)),M.setAttribute("cx",String(i+u/2)),M.setAttribute("cy",String(o+s/2)),M.setAttribute("r",String(h/2));else{var D=((e.rotation||0)+n)%(2*Math.PI),E=(D+2*Math.PI)%(2*Math.PI),F=i+u/2,R=o+s/2,B=i+u/2,q=o+s/2;E>=0&&E<=.25*Math.PI||E>1.75*Math.PI&&E<=2*Math.PI?(F-=u/2,R-=s/2*Math.tan(D),B+=u/2,q+=s/2*Math.tan(D)):E>.25*Math.PI&&E<=.75*Math.PI?(R-=s/2,F-=u/2/Math.tan(D),q+=s/2,B+=u/2/Math.tan(D)):E>.75*Math.PI&&E<=1.25*Math.PI?(F+=u/2,R+=s/2*Math.tan(D),B-=u/2,q-=s/2*Math.tan(D)):E>1.25*Math.PI&&E<=1.75*Math.PI&&(R+=s/2,F+=u/2/Math.tan(D),q-=s/2,B-=u/2/Math.tan(D)),(M=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",g),M.setAttribute("gradientUnits","userSpaceOnUse"),M.setAttribute("x1",String(Math.round(F))),M.setAttribute("y1",String(Math.round(R))),M.setAttribute("x2",String(Math.round(B))),M.setAttribute("y2",String(Math.round(q)))}e.colorStops.forEach(function(I){var S=I.offset,T=I.color,O=document.createElementNS("http://www.w3.org/2000/svg","stop");O.setAttribute("offset",100*S+"%"),O.setAttribute("stop-color",T),M.appendChild(O)}),b.setAttribute("fill","url('#"+g+"')"),this._defs.appendChild(M)}else r&&b.setAttribute("fill",r);this._element.appendChild(b)},a}(),tt="canvas";for(var Mt={},mt=0;mt<=40;mt++)Mt[mt]=mt;const H={type:tt,width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Mt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{color:"#fff"}};var c=function(){return(c=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a}).apply(this,arguments)};function w(a){var t=c({},a);if(!t.colorStops||!t.colorStops.length)throw"Field 'colorStops' is required in gradient";return t.rotation?t.rotation=Number(t.rotation):t.rotation=0,t.colorStops=t.colorStops.map(function(e){return c(c({},e),{offset:Number(e.offset)})}),t}function d(a){var t=c({},a);return t.width=Number(t.width),t.height=Number(t.height),t.margin=Number(t.margin),t.imageOptions=c(c({},t.imageOptions),{hideBackgroundDots:!!t.imageOptions.hideBackgroundDots,imageSize:Number(t.imageOptions.imageSize),margin:Number(t.imageOptions.margin)}),t.margin>Math.min(t.width,t.height)&&(t.margin=Math.min(t.width,t.height)),t.dotsOptions=c({},t.dotsOptions),t.dotsOptions.gradient&&(t.dotsOptions.gradient=w(t.dotsOptions.gradient)),t.cornersSquareOptions&&(t.cornersSquareOptions=c({},t.cornersSquareOptions),t.cornersSquareOptions.gradient&&(t.cornersSquareOptions.gradient=w(t.cornersSquareOptions.gradient))),t.cornersDotOptions&&(t.cornersDotOptions=c({},t.cornersDotOptions),t.cornersDotOptions.gradient&&(t.cornersDotOptions.gradient=w(t.cornersDotOptions.gradient))),t.backgroundOptions&&(t.backgroundOptions=c({},t.backgroundOptions),t.backgroundOptions.gradient&&(t.backgroundOptions.gradient=w(t.backgroundOptions.gradient))),t}var _=lt(192),x=lt.n(_),C=function(a,t,e,r){return new(e||(e=Promise))(function(n,i){function o(g){try{u(r.next(g))}catch(h){i(h)}}function s(g){try{u(r.throw(g))}catch(h){i(h)}}function u(g){var h;g.done?n(g.value):(h=g.value,h instanceof e?h:new e(function(b){b(h)})).then(o,s)}u((r=r.apply(a,[])).next())})},L=function(a,t){var e,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(g){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(n=2&h[0]?r.return:h[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,h[1])).done)return n;switch(r=0,n&&(h=[2&h[0],n.value]),h[0]){case 0:case 1:n=h;break;case 4:return o.label++,{value:h[1],done:!1};case 5:o.label++,r=h[1],h=[0];continue;case 7:h=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||h[0]!==6&&h[0]!==2)){o=0;continue}if(h[0]===3&&(!n||h[1]>n[0]&&h[1]<n[3])){o.label=h[1];break}if(h[0]===6&&o.label<n[1]){o.label=n[1],n=h;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(h);break}n[2]&&o.ops.pop(),o.trys.pop();continue}h=t.call(a,o)}catch(b){h=[6,b],r=0}finally{e=n=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([u,g])}}};const N=function(){function a(t){this._options=t?d(gt(H,t)):H,this.update()}return a._clearContainer=function(t){t&&(t.innerHTML="")},a.prototype._getQRStylingElement=function(t){return t===void 0&&(t="png"),C(this,void 0,void 0,function(){var e,r,n;return L(this,function(i){switch(i.label){case 0:if(!this._qr)throw"QR code is empty";return t.toLowerCase()!=="svg"?[3,2]:(r=void 0,e=void 0,this._svg&&this._svgDrawingPromise?(e=this._svg,r=this._svgDrawingPromise):(e=new rt(this._options),r=e.drawQR(this._qr)),[4,r]);case 1:return i.sent(),[2,e];case 2:return r=void 0,n=void 0,this._canvas&&this._canvasDrawingPromise?(n=this._canvas,r=this._canvasDrawingPromise):(n=new l(this._options),r=n.drawQR(this._qr)),[4,r];case 3:return i.sent(),[2,n]}})})},a.prototype.update=function(t){a._clearContainer(this._container),this._options=t?d(gt(this._options,t)):this._options,this._options.data&&(this._qr=x()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(e){switch(!0){case/^[0-9]*$/.test(e):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(e):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===tt?(this._canvas=new l(this._options),this._canvasDrawingPromise=this._canvas.drawQR(this._qr),this._svgDrawingPromise=void 0,this._svg=void 0):(this._svg=new rt(this._options),this._svgDrawingPromise=this._svg.drawQR(this._qr),this._canvasDrawingPromise=void 0,this._canvas=void 0),this.append(this._container))},a.prototype.append=function(t){if(t){if(typeof t.appendChild!="function")throw"Container should be a single DOM node";this._options.type===tt?this._canvas&&t.appendChild(this._canvas.getCanvas()):this._svg&&t.appendChild(this._svg.getElement()),this._container=t}},a.prototype.getRawData=function(t){return t===void 0&&(t="png"),C(this,void 0,void 0,function(){var e,r,n;return L(this,function(i){switch(i.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getQRStylingElement(t)];case 1:return e=i.sent(),t.toLowerCase()==="svg"?(r=new XMLSerializer,n=r.serializeToString(e.getElement()),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+n],{type:"image/svg+xml"})]):[2,new Promise(function(o){return e.getCanvas().toBlob(o,"image/"+t,1)})]}})})},a.prototype.download=function(t){return C(this,void 0,void 0,function(){var e,r,n,i,o;return L(this,function(s){switch(s.label){case 0:if(!this._qr)throw"QR code is empty";return e="png",r="qr",typeof t=="string"?(e=t,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof t=="object"&&t!==null&&(t.name&&(r=t.name),t.extension&&(e=t.extension)),[4,this._getQRStylingElement(e)];case 1:return n=s.sent(),e.toLowerCase()==="svg"?(i=new XMLSerializer,o=`<?xml version="1.0" standalone="no"?>\r
`+(o=i.serializeToString(n.getElement())),ct("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(o),r+".svg")):ct(n.getCanvas().toDataURL("image/"+e),r+"."+e),[2]}})})},a}()}},ft={};function it(Z){if(ft[Z])return ft[Z].exports;var J=ft[Z]={exports:{}};return qt[Z](J,J.exports,it),J.exports}return it.n=Z=>{var J=Z&&Z.__esModule?()=>Z.default:()=>Z;return it.d(J,{a:J}),J},it.d=(Z,J)=>{for(var lt in J)it.o(J,lt)&&!it.o(Z,lt)&&Object.defineProperty(Z,lt,{enumerable:!0,get:J[lt]})},it.o=(Z,J)=>Object.prototype.hasOwnProperty.call(Z,J),it(796)})().default})})($t);var Wt=$t.exports;const Yt=Zt(Wt),Vt=Xt({__proto__:null,default:Yt},[Wt]);export{Vt as q};
